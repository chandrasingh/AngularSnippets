<html ng-app="myApp">
<head>
</head>
<body>
	<p ng-controller="dummyController">{{title}}</p>
	<div ng-controller="ShoppingController">
		<h1>{{title | case}}</h1>
		<table>
			<tr ng-repeat="item in items">
				<td>{{item.title}}</td>
				<td>{{item.description}}</td>
				<td>{{item.price | currency : "Rs"}}</td>
			</tr> 
		</table>
	</div>
		
<script src="resources/js/angular.min.js"></script>
<script>
	var items = [{title: 'Paint pots', description: 'Pots full of paint', price: 3.95},
				{title: 'Polka dots', description: 'Dots with polka', price: 2.95},
				{title: 'Pebbles', description: 'Just little rocks', price: 6.95}];
	
	var myAppModule = angular.module("myApp",[]);
	
	myAppModule.filter("case", function(){
		var caseFilter = function(input){
			var returnValue;
			var param = "";
			switch(param){
				case "upper":
					returnValue = input.toUpperCase();
				break;
				case "lower":
					returnValue = input.toLowerCase();
				break;
				default:
					var words = input.split(" ");
					for(var index = 0; index<words.length; index++){
						words[i] = words[i].charAt(0).toUpperCase() + words[i].slice(1);
					}
					
					returnValue = words.join(" ");
			}
			
			return returnValue;
		}
		return caseFilter;
	});
	
	myAppModule.factory("Items", function(){
		var items = {};
		items.query = function() {
			// In real apps, we'd pull this data from the server...
			return [
				{title: 'Paint pots', description: 'Pots full of paint', price: 3.95},
				{title: 'Polka dots', description: 'Dots with polka', price: 2.95},
				{title: 'Pebbles', description: 'Just little rocks', price: 6.95}
			];
		};
		return items;
	});
	myAppModule.controller("dummyController", function ($scope) {
		$scope.title = "title!!!!";
	});
	
	myAppModule.controller("ShoppingController", function ($scope, Items) {
		$scope.items = Items.query();
		$scope.title = "enjoy your shopping!!!"
	});
</script>
</body>	
</html>